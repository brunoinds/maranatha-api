System.register(["./index-legacy-23fb27d0.js","./JobsAndProjects-legacy-2e63caae.js"],(function(e,l){"use strict";var t,a,n,u,o,r,s,c,i,d,f,y,_,p,g,m,h,v,k,b,j,w,C,S,J,P,A,M;return{setters:[e=>{t=e.d,a=e.r,n=e.B,u=e.c,o=e.w,r=e.u,s=e.R,c=e.S,i=e.o,d=e.a,f=e.b,y=e.h,_=e.g,p=e.i,g=e.j,m=e.I,h=e.l,v=e.m,k=e.V,b=e.s,j=e.v,w=e.N,C=e.F,S=e.W,J=e.k,P=e.y},e=>{A=e.J,M=e.P}],execute:function(){const l=j("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1),x=j("h2",null,"Modificar Jobs",-1),E=j("h2",null,"Modificar Proyectos",-1),B=j("h2",null,"Append Default Jobs and Projects",-1);e("default",t({__name:"Account",setup(e){const t=a(null),D=a(!0),F=n(),I=a(null),N=a(!1),R=()=>{F.replace("/login")},T=()=>{F.push("/jobs")},V=()=>{F.push("/projects")},W=async()=>{c.getCurrentSession().then((async e=>{e||R(),e.logout().then((()=>{R()})).catch((e=>{console.error(e)}))}))},q=async()=>{A.forEach((async e=>{await s.post("/jobers",e)})),M.forEach((async e=>{await s.post("/projects",e)}))};return(async()=>{t.value=await s.get("/account/me"),D.value=!1;const e=await c.getCurrentSession();e&&(N.value=e.roles().includes("admin"))})(),(e,a)=>(i(),u(r(P),{ref_key:"page",ref:I},{default:o((()=>[d(r(m),null,{default:o((()=>[d(r(f),null,{default:o((()=>[d(r(y),null,{default:o((()=>[_("Mi cuenta")])),_:1}),D.value?(i(),u(r(p),{key:0,type:"indeterminate"})):g("",!0)])),_:1})])),_:1}),d(r(J),null,{default:o((()=>[D.value?g("",!0):(i(),u(r(h),{key:0},{default:o((()=>[d(r(v),null,{default:o((()=>[d(r(k),{slot:"start"},{default:o((()=>[l])),_:1}),d(r(b),null,{default:o((()=>[j("h2",null,w(t.value.name),1),j("p",null,w(t.value.email),1)])),_:1})])),_:1}),N.value?(i(),u(r(v),{key:0,onClick:T,button:""},{default:o((()=>[d(r(b),{color:"primary"},{default:o((()=>[x])),_:1})])),_:1})):g("",!0),N.value?(i(),u(r(v),{key:1,onClick:V,button:""},{default:o((()=>[d(r(b),{color:"primary"},{default:o((()=>[E])),_:1})])),_:1})):g("",!0),N.value?(i(),u(r(v),{key:2,onClick:q,button:""},{default:o((()=>[d(r(b),{color:"warning"},{default:o((()=>[B])),_:1})])),_:1})):g("",!0),d(r(v),{onClick:W},{default:o((()=>[d(r(C),{color:"danger",icon:r(S),slot:"start"},null,8,["icon"]),d(r(b),{color:"danger"},{default:o((()=>[_("Terminar sesiÃ³n")])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1},512))}}))}}}));
