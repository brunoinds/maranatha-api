System.register(["./index-legacy-5c196ff9.js","./datetime-legacy-a3ddd8e2.js"],(function(e,t){"use strict";var l,u,n,r,a,o,s,i,d,c,p,_,f,m,y,v,g,k,S,D,h,b,T,A,E,j,O,B,C,I,L,R,$;return{setters:[e=>{l=e.d,u=e.r,n=e.B,r=e.C,a=e.c,o=e.w,s=e.u,i=e.R,d=e.o,c=e.a,p=e.b,_=e.h,f=e.g,m=e.i,y=e.j,v=e.I,g=e.T,k=e.H,S=e.L,D=e.K,h=e.k,b=e.y,T=e.U,A=e.m,E=e.s,j=e.v,O=e.N,B=e.l,C=e.O,I=e.F,L=e.P,R=e.Q},e=>{$=e.D}],execute:function(){const t={slot:"content"};e("default",l({__name:"AllReports",setup(e){const l=u([]),w=u(!0),x=n(),F=u(null),M=r((()=>{const e=l.value.reduce(((e,t)=>(e[t.user_id]||(e[t.user_id]=[]),e[t.user_id].push(t),e)),{});return Object.keys(e).map((t=>({user:e[t][0].user,reports:e[t].map((e=>({...e,reportType:"Bill"==e.type?"Boletas":"Facturas",reportStatus:"Draft"==e.status?"Pendiente":"Enviado",reportDates:`${$.fromISO(e.from_date).toLocaleString($.DATE_MED)} - ${$.fromISO(e.to_date).toLocaleString($.DATE_MED)}`,invoices:{total:e.invoices.count,totalAmount:e.invoices.total_amount}})))})))}));return(async()=>{const e=await i.get("/reports");w.value=!1,l.value=e})(),(e,l)=>(d(),a(s(b),{ref_key:"page",ref:F},{default:o((()=>[c(s(v),null,{default:o((()=>[c(s(p),null,{default:o((()=>[c(s(_),null,{default:o((()=>[f("Todos los Reportes")])),_:1}),w.value?(d(),a(s(m),{key:0,type:"indeterminate"})):y("",!0)])),_:1})])),_:1}),c(s(h),null,{default:o((()=>[c(s(g),null,{default:o((()=>[(d(!0),k(D,null,S(M.value,(e=>(d(),a(s(T),{key:e.user.id},{default:o((()=>[c(s(A),{slot:"header",color:"light"},{default:o((()=>[c(s(E),null,{default:o((()=>[j("h2",null,O(e.user.name),1),j("p",null,"@"+O(e.user.username),1)])),_:2},1024)])),_:2},1024),j("section",t,[c(s(B),null,{default:o((()=>[(d(!0),k(D,null,S(e.reports,(e=>(d(),a(s(A),{key:e.id,button:"",onClick:t=>{return l=e.id,void x.push(`/reports/${l}`);var l},detail:!0},{default:o((()=>[c(s(E),null,{default:o((()=>[j("h2",null,[j("b",null,O(e.title),1)]),j("p",null,O(e.reportType),1),j("p",null,O(e.reportDates),1),j("p",null,[j("b",null,"S./ "+O(e.invoices.totalAmount),1)])])),_:2},1024),"Draft"==e.status?(d(),a(s(C),{key:0,color:"danger"},{default:o((()=>[c(s(I),{icon:s(L)},null,8,["icon"]),c(s(E),null,{default:o((()=>[f(O(e.reportStatus),1)])),_:2},1024)])),_:2},1024)):y("",!0),"Submitted"==e.status?(d(),a(s(C),{key:1,color:"success"},{default:o((()=>[c(s(I),{icon:s(R)},null,8,["icon"]),c(s(E),null,{default:o((()=>[f(O(e.reportStatus),1)])),_:2},1024)])),_:2},1024)):y("",!0)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},512))}}))}}}));
