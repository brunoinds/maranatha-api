System.register(["./index-legacy-5c196ff9.js"],(function(e,l){"use strict";var t,a,u,n,o,r,s,c,i,d,f,_,m,y,g,v,h,p,k,b,C,S,j,w,M,x;return{setters:[e=>{t=e.d,a=e.r,u=e.B,n=e.c,o=e.w,r=e.u,s=e.R,c=e.S,i=e.o,d=e.a,f=e.b,_=e.h,m=e.g,y=e.i,g=e.j,v=e.I,h=e.l,p=e.m,k=e.V,b=e.s,C=e.v,S=e.N,j=e.F,w=e.W,M=e.k,x=e.y}],execute:function(){const l=C("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1),A=C("h2",null,"Modificar Jobs",-1),B=C("h2",null,"Modificar Proyectos",-1);e("default",t({__name:"Account",setup(e){const t=a(null),F=a(!0),I=u(),J=a(null),N=a(!1),P=()=>{I.replace("/login")},R=()=>{I.push("/jobs")},T=()=>{I.push("/projects")},V=async()=>{c.getCurrentSession().then((async e=>{e||P(),e.logout().then((()=>{P()})).catch((e=>{console.error(e)}))}))};return(async()=>{t.value=await s.get("/account/me"),F.value=!1;const e=await c.getCurrentSession();e&&(N.value=e.roles().includes("admin"))})(),(e,a)=>(i(),n(r(x),{ref_key:"page",ref:J},{default:o((()=>[d(r(v),null,{default:o((()=>[d(r(f),null,{default:o((()=>[d(r(_),null,{default:o((()=>[m("Mi cuenta")])),_:1}),F.value?(i(),n(r(y),{key:0,type:"indeterminate"})):g("",!0)])),_:1})])),_:1}),d(r(M),null,{default:o((()=>[F.value?g("",!0):(i(),n(r(h),{key:0},{default:o((()=>[d(r(p),null,{default:o((()=>[d(r(k),{slot:"start"},{default:o((()=>[l])),_:1}),d(r(b),null,{default:o((()=>[C("h2",null,S(t.value.name),1),C("p",null,S(t.value.email),1)])),_:1})])),_:1}),N.value?(i(),n(r(p),{key:0,onClick:R,button:""},{default:o((()=>[d(r(b),{color:"primary"},{default:o((()=>[A])),_:1})])),_:1})):g("",!0),N.value?(i(),n(r(p),{key:1,onClick:T,button:""},{default:o((()=>[d(r(b),{color:"primary"},{default:o((()=>[B])),_:1})])),_:1})):g("",!0),d(r(p),{onClick:V},{default:o((()=>[d(r(j),{color:"danger",icon:r(w),slot:"start"},null,8,["icon"]),d(r(b),{color:"danger"},{default:o((()=>[m("Terminar sesiÃ³n")])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1},512))}}))}}}));
