import{d as b,B as L,r as p,N as y,c as d,w as n,u as e,o as i,a as o,I as V,v as l,O as k,l as w,m,n as g,f as x,g as B,j as _,i as C,k as N,y as O,z as f}from"./index-645108c8.js";import{S as v}from"./RequestAPI-525527de.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const U="/app/assets/maranatha-logo-d14af968.svg",H={class:"holder"},K={style:{}},P=b({__name:"Login",setup(j){const c=L(),a=p({username:"",password:""}),I=y(()=>a.value.username.length>0&&a.value.password.length>=8),t=p(!1),h=()=>{t.value=!0,v.login(a.value.username,a.value.password).then(r=>{c.push("/reports")}).catch(r=>{r.message=="Invalid credentials"?f.create({header:"Oops...",message:"Usuario o contraseña incorrectos",buttons:["OK"]}).then(s=>{s.present()}):f.create({header:"Oops...",message:r.message,buttons:["OK"]}).then(s=>{s.present()})}).finally(()=>{t.value=!1})};return(async()=>{await v.isLogged()&&c.push("/reports")})(),(r,s)=>(i(),d(e(O),null,{default:n(()=>[o(e(V)),o(e(N),{class:"ion-padding",scrollX:!1,scrollY:!1},{default:n(()=>[l("section",H,[l("article",K,[l("header",null,[o(e(k),{src:e(U),style:{width:"90%",margin:"0 auto"}},null,8,["src"])]),l("main",null,[o(e(w),null,{default:n(()=>[o(e(m),null,{default:n(()=>[o(e(g),{label:"Usuário","label-placement":"stacked",modelValue:a.value.username,"onUpdate:modelValue":s[0]||(s[0]=u=>a.value.username=u),placeholder:"Nombre de usuário"},null,8,["modelValue"])]),_:1}),o(e(m),null,{default:n(()=>[o(e(g),{label:"Contraseña","label-placement":"stacked",modelValue:a.value.password,"onUpdate:modelValue":s[1]||(s[1]=u=>a.value.password=u),placeholder:"Ingresa su clave"},null,8,["modelValue"])]),_:1})]),_:1})]),l("footer",null,[t.value?_("",!0):(i(),d(e(x),{key:0,disabled:!I.value,expand:"block",onClick:h},{default:n(()=>[B("Iniciar sesión")]),_:1},8,["disabled"])),t.value?(i(),d(e(C),{key:1,type:"indeterminate"})):_("",!0)])])])]),_:1})]),_:1}))}});const T=S(P,[["__scopeId","data-v-762a796d"]]);export{T as default};
