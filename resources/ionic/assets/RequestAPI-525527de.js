var fn=Object.defineProperty;var ln=(t,e,r)=>e in t?fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var re=(t,e,r)=>(ln(t,typeof e!="symbol"?e+"":e,r),r);function $t(t,e){return function(){return t.apply(e,arguments)}}const{toString:dn}=Object.prototype,{getPrototypeOf:st}=Object,Fe=(t=>e=>{const r=dn.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Q=t=>(t=t.toLowerCase(),e=>Fe(e)===t),Ue=t=>e=>typeof e===t,{isArray:he}=Array,ge=Ue("undefined");function hn(t){return t!==null&&!ge(t)&&t.constructor!==null&&!ge(t.constructor)&&Y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jt=Q("ArrayBuffer");function pn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jt(t.buffer),e}const mn=Ue("string"),Y=Ue("function"),Wt=Ue("number"),ke=t=>t!==null&&typeof t=="object",yn=t=>t===!0||t===!1,De=t=>{if(Fe(t)!=="object")return!1;const e=st(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vn=Q("Date"),bn=Q("File"),gn=Q("Blob"),wn=Q("FileList"),En=t=>ke(t)&&Y(t.pipe),Sn=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Y(t.append)&&((e=Fe(t))==="formdata"||e==="object"&&Y(t.toString)&&t.toString()==="[object FormData]"))},_n=Q("URLSearchParams"),Rn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function we(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),he(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{const u=r?Object.getOwnPropertyNames(t):Object.keys(t),d=u.length;let m;for(o=0;o<d;o++)m=u[o],e.call(null,t[m],m,t)}}function qt(t,e){e=e.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const Vt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kt=t=>!ge(t)&&t!==Vt;function tt(){const{caseless:t}=Kt(this)&&this||{},e={},r=(o,a)=>{const u=t&&qt(e,a)||a;De(e[u])&&De(o)?e[u]=tt(e[u],o):De(o)?e[u]=tt({},o):he(o)?e[u]=o.slice():e[u]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&we(arguments[o],r);return e}const An=(t,e,r,{allOwnKeys:o}={})=>(we(e,(a,u)=>{r&&Y(a)?t[u]=$t(a,r):t[u]=a},{allOwnKeys:o}),t),On=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dn=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Nn=(t,e,r,o)=>{let a,u,d;const m={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),u=a.length;u-- >0;)d=a[u],(!o||o(d,t,e))&&!m[d]&&(e[d]=t[d],m[d]=!0);t=r!==!1&&st(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Tn=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const o=t.indexOf(e,r);return o!==-1&&o===r},xn=t=>{if(!t)return null;if(he(t))return t;let e=t.length;if(!Wt(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},In=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&st(Uint8Array)),Pn=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=o.next())&&!a.done;){const u=a.value;e.call(t,u[0],u[1])}},Cn=(t,e)=>{let r;const o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},Bn=Q("HTMLFormElement"),Ln=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),Pt=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Fn=Q("RegExp"),Yt=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),o={};we(r,(a,u)=>{let d;(d=e(a,u,t))!==!1&&(o[u]=d||a)}),Object.defineProperties(t,o)},Un=t=>{Yt(t,(e,r)=>{if(Y(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(Y(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kn=(t,e)=>{const r={},o=a=>{a.forEach(u=>{r[u]=!0})};return he(t)?o(t):o(String(t).split(e)),r},zn=()=>{},Mn=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Xe="abcdefghijklmnopqrstuvwxyz",Ct="0123456789",Gt={DIGIT:Ct,ALPHA:Xe,ALPHA_DIGIT:Xe+Xe.toUpperCase()+Ct},jn=(t=16,e=Gt.ALPHA_DIGIT)=>{let r="";const{length:o}=e;for(;t--;)r+=e[Math.random()*o|0];return r};function Hn(t){return!!(t&&Y(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $n=t=>{const e=new Array(10),r=(o,a)=>{if(ke(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[a]=o;const u=he(o)?[]:{};return we(o,(d,m)=>{const R=r(d,a+1);!ge(R)&&(u[m]=R)}),e[a]=void 0,u}}return o};return r(t,0)},Jn=Q("AsyncFunction"),Wn=t=>t&&(ke(t)||Y(t))&&Y(t.then)&&Y(t.catch),p={isArray:he,isArrayBuffer:Jt,isBuffer:hn,isFormData:Sn,isArrayBufferView:pn,isString:mn,isNumber:Wt,isBoolean:yn,isObject:ke,isPlainObject:De,isUndefined:ge,isDate:vn,isFile:bn,isBlob:gn,isRegExp:Fn,isFunction:Y,isStream:En,isURLSearchParams:_n,isTypedArray:In,isFileList:wn,forEach:we,merge:tt,extend:An,trim:Rn,stripBOM:On,inherits:Dn,toFlatObject:Nn,kindOf:Fe,kindOfTest:Q,endsWith:Tn,toArray:xn,forEachEntry:Pn,matchAll:Cn,isHTMLForm:Bn,hasOwnProperty:Pt,hasOwnProp:Pt,reduceDescriptors:Yt,freezeMethods:Un,toObjectSet:kn,toCamelCase:Ln,noop:zn,toFiniteNumber:Mn,findKey:qt,global:Vt,isContextDefined:Kt,ALPHABET:Gt,generateString:jn,isSpecCompliantForm:Hn,toJSONObject:$n,isAsyncFn:Jn,isThenable:Wn};function P(t,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a)}p.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xt=P.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qt[t]={value:t}});Object.defineProperties(P,Qt);Object.defineProperty(Xt,"isAxiosError",{value:!0});P.from=(t,e,r,o,a,u)=>{const d=Object.create(Xt);return p.toFlatObject(t,d,function(R){return R!==Error.prototype},m=>m!=="isAxiosError"),P.call(d,t.message,e,r,o,a),d.cause=t,d.name=t.name,u&&Object.assign(d,u),d};const qn=null;function rt(t){return p.isPlainObject(t)||p.isArray(t)}function Zt(t){return p.endsWith(t,"[]")?t.slice(0,-2):t}function Bt(t,e,r){return t?t.concat(e).map(function(a,u){return a=Zt(a),!r&&u?"["+a+"]":a}).join(r?".":""):e}function Vn(t){return p.isArray(t)&&!t.some(rt)}const Kn=p.toFlatObject(p,{},null,function(e){return/^is[A-Z]/.test(e)});function ze(t,e,r){if(!p.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=p.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,L){return!p.isUndefined(L[N])});const o=r.metaTokens,a=r.visitor||A,u=r.dots,d=r.indexes,R=(r.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(e);if(!p.isFunction(a))throw new TypeError("visitor must be a function");function v(S){if(S===null)return"";if(p.isDate(S))return S.toISOString();if(!R&&p.isBlob(S))throw new P("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(S)||p.isTypedArray(S)?R&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function A(S,N,L){let z=S;if(S&&!L&&typeof S=="object"){if(p.endsWith(N,"{}"))N=o?N:N.slice(0,-2),S=JSON.stringify(S);else if(p.isArray(S)&&Vn(S)||(p.isFileList(S)||p.endsWith(N,"[]"))&&(z=p.toArray(S)))return N=Zt(N),z.forEach(function(oe,Z){!(p.isUndefined(oe)||oe===null)&&e.append(d===!0?Bt([N],Z,u):d===null?N:N+"[]",v(oe))}),!1}return rt(S)?!0:(e.append(Bt(L,N,u),v(S)),!1)}const y=[],O=Object.assign(Kn,{defaultVisitor:A,convertValue:v,isVisitable:rt});function T(S,N){if(!p.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));y.push(S),p.forEach(S,function(z,k){(!(p.isUndefined(z)||z===null)&&a.call(e,z,p.isString(k)?k.trim():k,N,O))===!0&&T(z,N?N.concat(k):[k])}),y.pop()}}if(!p.isObject(t))throw new TypeError("data must be an object");return T(t),e}function Lt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function it(t,e){this._pairs=[],t&&ze(t,this,e)}const er=it.prototype;er.append=function(e,r){this._pairs.push([e,r])};er.toString=function(e){const r=e?function(o){return e.call(this,o,Lt)}:Lt;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Yn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tr(t,e,r){if(!e)return t;const o=r&&r.encode||Yn,a=r&&r.serialize;let u;if(a?u=a(e,r):u=p.isURLSearchParams(e)?e.toString():new it(e,r).toString(o),u){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class Gn{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){p.forEach(this.handlers,function(o){o!==null&&e(o)})}}const Ft=Gn,rr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xn=typeof URLSearchParams<"u"?URLSearchParams:it,Qn=typeof FormData<"u"?FormData:null,Zn=typeof Blob<"u"?Blob:null,eo=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),to=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),G={isBrowser:!0,classes:{URLSearchParams:Xn,FormData:Qn,Blob:Zn},isStandardBrowserEnv:eo,isStandardBrowserWebWorkerEnv:to,protocols:["http","https","file","blob","url","data"]};function ro(t,e){return ze(t,new G.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,u){return G.isNode&&p.isBuffer(r)?(this.append(o,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function no(t){return p.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oo(t){const e={},r=Object.keys(t);let o;const a=r.length;let u;for(o=0;o<a;o++)u=r[o],e[u]=t[u];return e}function nr(t){function e(r,o,a,u){let d=r[u++];const m=Number.isFinite(+d),R=u>=r.length;return d=!d&&p.isArray(a)?a.length:d,R?(p.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!m):((!a[d]||!p.isObject(a[d]))&&(a[d]=[]),e(r,o,a[d],u)&&p.isArray(a[d])&&(a[d]=oo(a[d])),!m)}if(p.isFormData(t)&&p.isFunction(t.entries)){const r={};return p.forEachEntry(t,(o,a)=>{e(no(o),a,r,0)}),r}return null}function so(t,e,r){if(p.isString(t))try{return(e||JSON.parse)(t),p.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const at={transitional:rr,adapter:G.isNode?"http":"xhr",transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,u=p.isObject(e);if(u&&p.isHTMLForm(e)&&(e=new FormData(e)),p.isFormData(e))return a&&a?JSON.stringify(nr(e)):e;if(p.isArrayBuffer(e)||p.isBuffer(e)||p.isStream(e)||p.isFile(e)||p.isBlob(e))return e;if(p.isArrayBufferView(e))return e.buffer;if(p.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return ro(e,this.formSerializer).toString();if((m=p.isFileList(e))||o.indexOf("multipart/form-data")>-1){const R=this.env&&this.env.FormData;return ze(m?{"files[]":e}:e,R&&new R,this.formSerializer)}}return u||a?(r.setContentType("application/json",!1),so(e)):e}],transformResponse:[function(e){const r=this.transitional||at.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(e&&p.isString(e)&&(o&&!this.responseType||a)){const d=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(d)throw m.name==="SyntaxError"?P.from(m,P.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],t=>{at.headers[t]={}});const ut=at,io=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ao=t=>{const e={};let r,o,a;return t&&t.split("\n").forEach(function(d){a=d.indexOf(":"),r=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!r||e[r]&&io[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},Ut=Symbol("internals");function ve(t){return t&&String(t).trim().toLowerCase()}function Ne(t){return t===!1||t==null?t:p.isArray(t)?t.map(Ne):String(t)}function uo(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}const co=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qe(t,e,r,o,a){if(p.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!p.isString(e)){if(p.isString(o))return e.indexOf(o)!==-1;if(p.isRegExp(o))return o.test(e)}}function fo(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function lo(t,e){const r=p.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,u,d){return this[o].call(this,e,a,u,d)},configurable:!0})})}class Me{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function u(m,R,v){const A=ve(R);if(!A)throw new Error("header name must be a non-empty string");const y=p.findKey(a,A);(!y||a[y]===void 0||v===!0||v===void 0&&a[y]!==!1)&&(a[y||R]=Ne(m))}const d=(m,R)=>p.forEach(m,(v,A)=>u(v,A,R));return p.isPlainObject(e)||e instanceof this.constructor?d(e,r):p.isString(e)&&(e=e.trim())&&!co(e)?d(ao(e),r):e!=null&&u(r,e,o),this}get(e,r){if(e=ve(e),e){const o=p.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return uo(a);if(p.isFunction(r))return r.call(this,a,o);if(p.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ve(e),e){const o=p.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||Qe(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function u(d){if(d=ve(d),d){const m=p.findKey(o,d);m&&(!r||Qe(o,o[m],m,r))&&(delete o[m],a=!0)}}return p.isArray(e)?e.forEach(u):u(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const u=r[o];(!e||Qe(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const r=this,o={};return p.forEach(this,(a,u)=>{const d=p.findKey(o,u);if(d){r[d]=Ne(a),delete r[u];return}const m=e?fo(u):String(u).trim();m!==u&&delete r[u],r[m]=Ne(a),o[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return p.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&p.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[Ut]=this[Ut]={accessors:{}}).accessors,a=this.prototype;function u(d){const m=ve(d);o[m]||(lo(a,d),o[m]=!0)}return p.isArray(e)?e.forEach(u):u(e),this}}Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(Me.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[r]=o}}});p.freezeMethods(Me);const ne=Me;function Ze(t,e){const r=this||ut,o=e||r,a=ne.from(o.headers);let u=o.data;return p.forEach(t,function(m){u=m.call(r,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function or(t){return!!(t&&t.__CANCEL__)}function Ee(t,e,r){P.call(this,t==null?"canceled":t,P.ERR_CANCELED,e,r),this.name="CanceledError"}p.inherits(Ee,P,{__CANCEL__:!0});function ho(t,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new P("Request failed with status code "+r.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const po=G.isStandardBrowserEnv?function(){return{write:function(r,o,a,u,d,m){const R=[];R.push(r+"="+encodeURIComponent(o)),p.isNumber(a)&&R.push("expires="+new Date(a).toGMTString()),p.isString(u)&&R.push("path="+u),p.isString(d)&&R.push("domain="+d),m===!0&&R.push("secure"),document.cookie=R.join("; ")},read:function(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function mo(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yo(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function sr(t,e){return t&&!mo(e)?yo(t,e):e}const vo=G.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function a(u){let d=u;return e&&(r.setAttribute("href",d),d=r.href),r.setAttribute("href",d),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=a(window.location.href),function(d){const m=p.isString(d)?a(d):d;return m.protocol===o.protocol&&m.host===o.host}}():function(){return function(){return!0}}();function bo(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function go(t,e){t=t||10;const r=new Array(t),o=new Array(t);let a=0,u=0,d;return e=e!==void 0?e:1e3,function(R){const v=Date.now(),A=o[u];d||(d=v),r[a]=R,o[a]=v;let y=u,O=0;for(;y!==a;)O+=r[y++],y=y%t;if(a=(a+1)%t,a===u&&(u=(u+1)%t),v-d<e)return;const T=A&&v-A;return T?Math.round(O*1e3/T):void 0}}function kt(t,e){let r=0;const o=go(50,250);return a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,m=u-r,R=o(m),v=u<=d;r=u;const A={loaded:u,total:d,progress:d?u/d:void 0,bytes:m,rate:R||void 0,estimated:R&&d&&v?(d-u)/R:void 0,event:a};A[e?"download":"upload"]=!0,t(A)}}const wo=typeof XMLHttpRequest<"u",Eo=wo&&function(t){return new Promise(function(r,o){let a=t.data;const u=ne.from(t.headers).normalize(),d=t.responseType;let m;function R(){t.cancelToken&&t.cancelToken.unsubscribe(m),t.signal&&t.signal.removeEventListener("abort",m)}p.isFormData(a)&&(G.isStandardBrowserEnv||G.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let v=new XMLHttpRequest;if(t.auth){const T=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.set("Authorization","Basic "+btoa(T+":"+S))}const A=sr(t.baseURL,t.url);v.open(t.method.toUpperCase(),tr(A,t.params,t.paramsSerializer),!0),v.timeout=t.timeout;function y(){if(!v)return;const T=ne.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!d||d==="text"||d==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:T,config:t,request:v};ho(function(z){r(z),R()},function(z){o(z),R()},N),v=null}if("onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(o(new P("Request aborted",P.ECONNABORTED,t,v)),v=null)},v.onerror=function(){o(new P("Network Error",P.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const N=t.transitional||rr;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),o(new P(S,N.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,t,v)),v=null},G.isStandardBrowserEnv){const T=(t.withCredentials||vo(A))&&t.xsrfCookieName&&po.read(t.xsrfCookieName);T&&u.set(t.xsrfHeaderName,T)}a===void 0&&u.setContentType(null),"setRequestHeader"in v&&p.forEach(u.toJSON(),function(S,N){v.setRequestHeader(N,S)}),p.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),d&&d!=="json"&&(v.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&v.addEventListener("progress",kt(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",kt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(m=T=>{v&&(o(!T||T.type?new Ee(null,t,v):T),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(m),t.signal&&(t.signal.aborted?m():t.signal.addEventListener("abort",m)));const O=bo(A);if(O&&G.protocols.indexOf(O)===-1){o(new P("Unsupported protocol "+O+":",P.ERR_BAD_REQUEST,t));return}v.send(a||null)})},Te={http:qn,xhr:Eo};p.forEach(Te,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(r){}Object.defineProperty(t,"adapterName",{value:e})}});const ir={getAdapter:t=>{t=p.isArray(t)?t:[t];const{length:e}=t;let r,o;for(let a=0;a<e&&(r=t[a],!(o=p.isString(r)?Te[r.toLowerCase()]:r));a++);if(!o)throw o===!1?new P("Adapter ".concat(r," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(p.hasOwnProp(Te,r)?"Adapter '".concat(r,"' is not available in the build"):"Unknown adapter '".concat(r,"'"));if(!p.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:Te};function et(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ee(null,t)}function zt(t){return et(t),t.headers=ne.from(t.headers),t.data=Ze.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ir.getAdapter(t.adapter||ut.adapter)(t).then(function(o){return et(t),o.data=Ze.call(t,t.transformResponse,o),o.headers=ne.from(o.headers),o},function(o){return or(o)||(et(t),o&&o.response&&(o.response.data=Ze.call(t,t.transformResponse,o.response),o.response.headers=ne.from(o.response.headers))),Promise.reject(o)})}const Mt=t=>t instanceof ne?t.toJSON():t;function de(t,e){e=e||{};const r={};function o(v,A,y){return p.isPlainObject(v)&&p.isPlainObject(A)?p.merge.call({caseless:y},v,A):p.isPlainObject(A)?p.merge({},A):p.isArray(A)?A.slice():A}function a(v,A,y){if(p.isUndefined(A)){if(!p.isUndefined(v))return o(void 0,v,y)}else return o(v,A,y)}function u(v,A){if(!p.isUndefined(A))return o(void 0,A)}function d(v,A){if(p.isUndefined(A)){if(!p.isUndefined(v))return o(void 0,v)}else return o(void 0,A)}function m(v,A,y){if(y in e)return o(v,A);if(y in t)return o(void 0,v)}const R={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(v,A)=>a(Mt(v),Mt(A),!0)};return p.forEach(Object.keys(Object.assign({},t,e)),function(A){const y=R[A]||a,O=y(t[A],e[A],A);p.isUndefined(O)&&y!==m||(r[A]=O)}),r}const ar="1.5.0",ct={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ct[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const jt={};ct.transitional=function(e,r,o){function a(u,d){return"[Axios v"+ar+"] Transitional option '"+u+"'"+d+(o?". "+o:"")}return(u,d,m)=>{if(e===!1)throw new P(a(d," has been removed"+(r?" in "+r:"")),P.ERR_DEPRECATED);return r&&!jt[d]&&(jt[d]=!0,console.warn(a(d," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(u,d,m):!0}};function So(t,e,r){if(typeof t!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const u=o[a],d=e[u];if(d){const m=t[u],R=m===void 0||d(m,u,t);if(R!==!0)throw new P("option "+u+" must be "+R,P.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new P("Unknown option "+u,P.ERR_BAD_OPTION)}}const nt={assertOptions:So,validators:ct},ae=nt.validators;class Pe{constructor(e){this.defaults=e,this.interceptors={request:new Ft,response:new Ft}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=de(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:u}=r;o!==void 0&&nt.assertOptions(o,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),a!=null&&(p.isFunction(a)?r.paramsSerializer={serialize:a}:nt.assertOptions(a,{encode:ae.function,serialize:ae.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=u&&p.merge(u.common,u[r.method]);u&&p.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),r.headers=ne.concat(d,u);const m=[];let R=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(R=R&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});const v=[];this.interceptors.response.forEach(function(N){v.push(N.fulfilled,N.rejected)});let A,y=0,O;if(!R){const S=[zt.bind(this),void 0];for(S.unshift.apply(S,m),S.push.apply(S,v),O=S.length,A=Promise.resolve(r);y<O;)A=A.then(S[y++],S[y++]);return A}O=m.length;let T=r;for(y=0;y<O;){const S=m[y++],N=m[y++];try{T=S(T)}catch(L){N.call(this,L);break}}try{A=zt.call(this,T)}catch(S){return Promise.reject(S)}for(y=0,O=v.length;y<O;)A=A.then(v[y++],v[y++]);return A}getUri(e){e=de(this.defaults,e);const r=sr(e.baseURL,e.url);return tr(r,e.params,e.paramsSerializer)}}p.forEach(["delete","get","head","options"],function(e){Pe.prototype[e]=function(r,o){return this.request(de(o||{},{method:e,url:r,data:(o||{}).data}))}});p.forEach(["post","put","patch"],function(e){function r(o){return function(u,d,m){return this.request(de(m||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}Pe.prototype[e]=r(),Pe.prototype[e+"Form"]=r(!0)});const xe=Pe;class ft{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const o=this;this.promise.then(a=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](a);o._listeners=null}),this.promise.then=a=>{let u;const d=new Promise(m=>{o.subscribe(m),u=m}).then(a);return d.cancel=function(){o.unsubscribe(u)},d},e(function(u,d,m){o.reason||(o.reason=new Ee(u,d,m),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new ft(function(a){e=a}),cancel:e}}}const _o=ft;function Ro(t){return function(r){return t.apply(null,r)}}function Ao(t){return p.isObject(t)&&t.isAxiosError===!0}const ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ot).forEach(([t,e])=>{ot[e]=t});const Oo=ot;function ur(t){const e=new xe(t),r=$t(xe.prototype.request,e);return p.extend(r,xe.prototype,e,{allOwnKeys:!0}),p.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return ur(de(t,a))},r}const H=ur(ut);H.Axios=xe;H.CanceledError=Ee;H.CancelToken=_o;H.isCancel=or;H.VERSION=ar;H.toFormData=ze;H.AxiosError=P;H.Cancel=H.CanceledError;H.all=function(e){return Promise.all(e)};H.spread=Ro;H.isAxiosError=Ao;H.mergeConfig=de;H.AxiosHeaders=ne;H.formToJSON=t=>nr(p.isHTMLForm(t)?new FormData(t):t);H.getAdapter=ir.getAdapter;H.HttpStatusCode=Oo;H.default=H;const be=H;var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Po(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),r}function Oe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(o,a,u){function d(v,A){if(!a[v]){if(!o[v]){var y=typeof Oe=="function"&&Oe;if(!A&&y)return y(v,!0);if(m)return m(v,!0);var O=new Error("Cannot find module '"+v+"'");throw O.code="MODULE_NOT_FOUND",O}var T=a[v]={exports:{}};o[v][0].call(T.exports,function(S){var N=o[v][1][S];return d(N||S)},T,T.exports,r,o,a,u)}return a[v].exports}for(var m=typeof Oe=="function"&&Oe,R=0;R<u.length;R++)d(u[R]);return d}({1:[function(r,o,a){(function(u){var d=u.MutationObserver||u.WebKitMutationObserver,m;if(d){var R=0,v=new d(S),A=u.document.createTextNode("");v.observe(A,{characterData:!0}),m=function(){A.data=R=++R%2}}else if(!u.setImmediate&&typeof u.MessageChannel<"u"){var y=new u.MessageChannel;y.port1.onmessage=S,m=function(){y.port2.postMessage(0)}}else"document"in u&&"onreadystatechange"in u.document.createElement("script")?m=function(){var L=u.document.createElement("script");L.onreadystatechange=function(){S(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},u.document.documentElement.appendChild(L)}:m=function(){setTimeout(S,0)};var O,T=[];function S(){O=!0;for(var L,z,k=T.length;k;){for(z=T,T=[],L=-1;++L<k;)z[L]();k=T.length}O=!1}o.exports=N;function N(L){T.push(L)===1&&!O&&m()}}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,o,a){var u=r(1);function d(){}var m={},R=["REJECTED"],v=["FULFILLED"],A=["PENDING"];o.exports=y;function y(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,_!==d&&N(this,_)}y.prototype.catch=function(_){return this.then(null,_)},y.prototype.then=function(_,C){if(typeof _!="function"&&this.state===v||typeof C!="function"&&this.state===R)return this;var I=new this.constructor(d);if(this.state!==A){var U=this.state===v?_:C;T(I,U,this.outcome)}else this.queue.push(new O(I,_,C));return I};function O(_,C,I){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}O.prototype.callFulfilled=function(_){m.resolve(this.promise,_)},O.prototype.otherCallFulfilled=function(_){T(this.promise,this.onFulfilled,_)},O.prototype.callRejected=function(_){m.reject(this.promise,_)},O.prototype.otherCallRejected=function(_){T(this.promise,this.onRejected,_)};function T(_,C,I){u(function(){var U;try{U=C(I)}catch($){return m.reject(_,$)}U===_?m.reject(_,new TypeError("Cannot resolve promise with itself")):m.resolve(_,U)})}m.resolve=function(_,C){var I=L(S,C);if(I.status==="error")return m.reject(_,I.value);var U=I.value;if(U)N(_,U);else{_.state=v,_.outcome=C;for(var $=-1,W=_.queue.length;++$<W;)_.queue[$].callFulfilled(C)}return _},m.reject=function(_,C){_.state=R,_.outcome=C;for(var I=-1,U=_.queue.length;++I<U;)_.queue[I].callRejected(C);return _};function S(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function N(_,C){var I=!1;function U(V){I||(I=!0,m.reject(_,V))}function $(V){I||(I=!0,m.resolve(_,V))}function W(){C($,U)}var q=L(W);q.status==="error"&&U(q.value)}function L(_,C){var I={};try{I.value=_(C),I.status="success"}catch(U){I.status="error",I.value=U}return I}y.resolve=z;function z(_){return _ instanceof this?_:m.resolve(new this(d),_)}y.reject=k;function k(_){var C=new this(d);return m.reject(C,_)}y.all=oe;function oe(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,U=!1;if(!I)return this.resolve([]);for(var $=new Array(I),W=0,q=-1,V=new this(d);++q<I;)ee(_[q],q);return V;function ee(pe,Se){C.resolve(pe).then(je,function(ce){U||(U=!0,m.reject(V,ce))});function je(ce){$[Se]=ce,++W===I&&!U&&(U=!0,m.resolve(V,$))}}}y.race=Z;function Z(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,U=!1;if(!I)return this.resolve([]);for(var $=-1,W=new this(d);++$<I;)q(_[$]);return W;function q(V){C.resolve(V).then(function(ee){U||(U=!0,m.resolve(W,ee))},function(ee){U||(U=!0,m.reject(W,ee))})}}},{1:1}],3:[function(r,o,a){(function(u){typeof u.Promise!="function"&&(u.Promise=r(2))}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,o,a){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function d(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(n){return}}var R=m();function v(){try{if(!R||!R.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),i=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||i)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(s){return!1}}function A(n,i){n=n||[],i=i||{};try{return new Blob(n,i)}catch(c){if(c.name!=="TypeError")throw c;for(var s=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,f=new s,l=0;l<n.length;l+=1)f.append(n[l]);return f.getBlob(i.type)}}typeof Promise>"u"&&r(3);var y=Promise;function O(n,i){i&&n.then(function(s){i(null,s)},function(s){i(s)})}function T(n,i,s){typeof i=="function"&&n.then(i),typeof s=="function"&&n.catch(s)}function S(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var L="local-forage-detect-blob-support",z=void 0,k={},oe=Object.prototype.toString,Z="readonly",_="readwrite";function C(n){for(var i=n.length,s=new ArrayBuffer(i),f=new Uint8Array(s),l=0;l<i;l++)f[l]=n.charCodeAt(l);return s}function I(n){return new y(function(i){var s=n.transaction(L,_),f=A([""]);s.objectStore(L).put(f,"key"),s.onabort=function(l){l.preventDefault(),l.stopPropagation(),i(!1)},s.oncomplete=function(){var l=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);i(c||!l||parseInt(l[1],10)>=43)}}).catch(function(){return!1})}function U(n){return typeof z=="boolean"?y.resolve(z):I(n).then(function(i){return z=i,z})}function $(n){var i=k[n.name],s={};s.promise=new y(function(f,l){s.resolve=f,s.reject=l}),i.deferredOperations.push(s),i.dbReady?i.dbReady=i.dbReady.then(function(){return s.promise}):i.dbReady=s.promise}function W(n){var i=k[n.name],s=i.deferredOperations.pop();if(s)return s.resolve(),s.promise}function q(n,i){var s=k[n.name],f=s.deferredOperations.pop();if(f)return f.reject(i),f.promise}function V(n,i){return new y(function(s,f){if(k[n.name]=k[n.name]||dt(),n.db)if(i)$(n),n.db.close();else return s(n.db);var l=[n.name];i&&l.push(n.version);var c=R.open.apply(R,l);i&&(c.onupgradeneeded=function(h){var b=c.result;try{b.createObjectStore(n.storeName),h.oldVersion<=1&&b.createObjectStore(L)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw g}}),c.onerror=function(h){h.preventDefault(),f(c.error)},c.onsuccess=function(){var h=c.result;h.onversionchange=function(b){b.target.close()},s(h),W(n)}})}function ee(n){return V(n,!1)}function pe(n){return V(n,!0)}function Se(n,i){if(!n.db)return!0;var s=!n.db.objectStoreNames.contains(n.storeName),f=n.version<n.db.version,l=n.version>n.db.version;if(f&&(n.version!==i&&console.warn('The database "'+n.name+"\" can't be downgraded from version "+n.db.version+" to version "+n.version+"."),n.version=n.db.version),l||s){if(s){var c=n.db.version+1;c>n.version&&(n.version=c)}return!0}return!1}function je(n){return new y(function(i,s){var f=new FileReader;f.onerror=s,f.onloadend=function(l){var c=btoa(l.target.result||"");i({__local_forage_encoded_blob:!0,data:c,type:n.type})},f.readAsBinaryString(n)})}function ce(n){var i=C(atob(n.data));return A([i],{type:n.type})}function lt(n){return n&&n.__local_forage_encoded_blob}function fr(n){var i=this,s=i._initReady().then(function(){var f=k[i._dbInfo.name];if(f&&f.dbReady)return f.dbReady});return T(s,n,n),s}function lr(n){$(n);for(var i=k[n.name],s=i.forages,f=0;f<s.length;f++){var l=s[f];l._dbInfo.db&&(l._dbInfo.db.close(),l._dbInfo.db=null)}return n.db=null,ee(n).then(function(c){return n.db=c,Se(n)?pe(n):c}).then(function(c){n.db=i.db=c;for(var h=0;h<s.length;h++)s[h]._dbInfo.db=c}).catch(function(c){throw q(n,c),c})}function te(n,i,s,f){f===void 0&&(f=1);try{var l=n.db.transaction(n.storeName,i);s(null,l)}catch(c){if(f>0&&(!n.db||c.name==="InvalidStateError"||c.name==="NotFoundError"))return y.resolve().then(function(){if(!n.db||c.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),pe(n)}).then(function(){return lr(n).then(function(){te(n,i,s,f-1)})}).catch(s);s(c)}}function dt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function dr(n){var i=this,s={db:null};if(n)for(var f in n)s[f]=n[f];var l=k[s.name];l||(l=dt(),k[s.name]=l),l.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=fr);var c=[];function h(){return y.resolve()}for(var b=0;b<l.forages.length;b++){var g=l.forages[b];g!==i&&c.push(g._initReady().catch(h))}var w=l.forages.slice(0);return y.all(c).then(function(){return s.db=l.db,ee(s)}).then(function(E){return s.db=E,Se(s,i._defaultConfig.version)?pe(s):E}).then(function(E){s.db=l.db=E,i._dbInfo=s;for(var D=0;D<w.length;D++){var x=w[D];x!==i&&(x._dbInfo.db=s.db,x._dbInfo.version=s.version)}})}function hr(n,i){var s=this;n=S(n);var f=new y(function(l,c){s.ready().then(function(){te(s._dbInfo,Z,function(h,b){if(h)return c(h);try{var g=b.objectStore(s._dbInfo.storeName),w=g.get(n);w.onsuccess=function(){var E=w.result;E===void 0&&(E=null),lt(E)&&(E=ce(E)),l(E)},w.onerror=function(){c(w.error)}}catch(E){c(E)}})}).catch(c)});return O(f,i),f}function pr(n,i){var s=this,f=new y(function(l,c){s.ready().then(function(){te(s._dbInfo,Z,function(h,b){if(h)return c(h);try{var g=b.objectStore(s._dbInfo.storeName),w=g.openCursor(),E=1;w.onsuccess=function(){var D=w.result;if(D){var x=D.value;lt(x)&&(x=ce(x));var B=n(x,D.key,E++);B!==void 0?l(B):D.continue()}else l()},w.onerror=function(){c(w.error)}}catch(D){c(D)}})}).catch(c)});return O(f,i),f}function mr(n,i,s){var f=this;n=S(n);var l=new y(function(c,h){var b;f.ready().then(function(){return b=f._dbInfo,oe.call(i)==="[object Blob]"?U(b.db).then(function(g){return g?i:je(i)}):i}).then(function(g){te(f._dbInfo,_,function(w,E){if(w)return h(w);try{var D=E.objectStore(f._dbInfo.storeName);g===null&&(g=void 0);var x=D.put(g,n);E.oncomplete=function(){g===void 0&&(g=null),c(g)},E.onabort=E.onerror=function(){var B=x.error?x.error:x.transaction.error;h(B)}}catch(B){h(B)}})}).catch(h)});return O(l,s),l}function yr(n,i){var s=this;n=S(n);var f=new y(function(l,c){s.ready().then(function(){te(s._dbInfo,_,function(h,b){if(h)return c(h);try{var g=b.objectStore(s._dbInfo.storeName),w=g.delete(n);b.oncomplete=function(){l()},b.onerror=function(){c(w.error)},b.onabort=function(){var E=w.error?w.error:w.transaction.error;c(E)}}catch(E){c(E)}})}).catch(c)});return O(f,i),f}function vr(n){var i=this,s=new y(function(f,l){i.ready().then(function(){te(i._dbInfo,_,function(c,h){if(c)return l(c);try{var b=h.objectStore(i._dbInfo.storeName),g=b.clear();h.oncomplete=function(){f()},h.onabort=h.onerror=function(){var w=g.error?g.error:g.transaction.error;l(w)}}catch(w){l(w)}})}).catch(l)});return O(s,n),s}function br(n){var i=this,s=new y(function(f,l){i.ready().then(function(){te(i._dbInfo,Z,function(c,h){if(c)return l(c);try{var b=h.objectStore(i._dbInfo.storeName),g=b.count();g.onsuccess=function(){f(g.result)},g.onerror=function(){l(g.error)}}catch(w){l(w)}})}).catch(l)});return O(s,n),s}function gr(n,i){var s=this,f=new y(function(l,c){if(n<0){l(null);return}s.ready().then(function(){te(s._dbInfo,Z,function(h,b){if(h)return c(h);try{var g=b.objectStore(s._dbInfo.storeName),w=!1,E=g.openKeyCursor();E.onsuccess=function(){var D=E.result;if(!D){l(null);return}n===0||w?l(D.key):(w=!0,D.advance(n))},E.onerror=function(){c(E.error)}}catch(D){c(D)}})}).catch(c)});return O(f,i),f}function wr(n){var i=this,s=new y(function(f,l){i.ready().then(function(){te(i._dbInfo,Z,function(c,h){if(c)return l(c);try{var b=h.objectStore(i._dbInfo.storeName),g=b.openKeyCursor(),w=[];g.onsuccess=function(){var E=g.result;if(!E){f(w);return}w.push(E.key),E.continue()},g.onerror=function(){l(g.error)}}catch(E){l(E)}})}).catch(l)});return O(s,n),s}function Er(n,i){i=N.apply(this,arguments);var s=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||s.name,n.storeName=n.storeName||s.storeName);var f=this,l;if(!n.name)l=y.reject("Invalid arguments");else{var c=n.name===s.name&&f._dbInfo.db,h=c?y.resolve(f._dbInfo.db):ee(n).then(function(b){var g=k[n.name],w=g.forages;g.db=b;for(var E=0;E<w.length;E++)w[E]._dbInfo.db=b;return b});n.storeName?l=h.then(function(b){if(b.objectStoreNames.contains(n.storeName)){var g=b.version+1;$(n);var w=k[n.name],E=w.forages;b.close();for(var D=0;D<E.length;D++){var x=E[D];x._dbInfo.db=null,x._dbInfo.version=g}var B=new y(function(F,j){var M=R.open(n.name,g);M.onerror=function(K){var ye=M.result;ye.close(),j(K)},M.onupgradeneeded=function(){var K=M.result;K.deleteObjectStore(n.storeName)},M.onsuccess=function(){var K=M.result;K.close(),F(K)}});return B.then(function(F){w.db=F;for(var j=0;j<E.length;j++){var M=E[j];M._dbInfo.db=F,W(M._dbInfo)}}).catch(function(F){throw(q(n,F)||y.resolve()).catch(function(){}),F})}}):l=h.then(function(b){$(n);var g=k[n.name],w=g.forages;b.close();for(var E=0;E<w.length;E++){var D=w[E];D._dbInfo.db=null}var x=new y(function(B,F){var j=R.deleteDatabase(n.name);j.onerror=function(){var M=j.result;M&&M.close(),F(j.error)},j.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},j.onsuccess=function(){var M=j.result;M&&M.close(),B(M)}});return x.then(function(B){g.db=B;for(var F=0;F<w.length;F++){var j=w[F];W(j._dbInfo)}}).catch(function(B){throw(q(n,B)||y.resolve()).catch(function(){}),B})})}return O(l,i),l}var Sr={_driver:"asyncStorage",_initStorage:dr,_support:v(),iterate:pr,getItem:hr,setItem:mr,removeItem:yr,clear:vr,length:br,key:gr,keys:wr,dropInstance:Er};function _r(){return typeof openDatabase=="function"}var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rr="~~local_forage_type~",ht=/^~~local_forage_type~([^~]+)~/,_e="__lfsc__:",He=_e.length,$e="arbf",Je="blob",pt="si08",mt="ui08",yt="uic8",vt="si16",bt="si32",gt="ur16",wt="ui32",Et="fl32",St="fl64",_t=He+$e.length,Rt=Object.prototype.toString;function At(n){var i=n.length*.75,s=n.length,f,l=0,c,h,b,g;n[n.length-1]==="="&&(i--,n[n.length-2]==="="&&i--);var w=new ArrayBuffer(i),E=new Uint8Array(w);for(f=0;f<s;f+=4)c=se.indexOf(n[f]),h=se.indexOf(n[f+1]),b=se.indexOf(n[f+2]),g=se.indexOf(n[f+3]),E[l++]=c<<2|h>>4,E[l++]=(h&15)<<4|b>>2,E[l++]=(b&3)<<6|g&63;return w}function We(n){var i=new Uint8Array(n),s="",f;for(f=0;f<i.length;f+=3)s+=se[i[f]>>2],s+=se[(i[f]&3)<<4|i[f+1]>>4],s+=se[(i[f+1]&15)<<2|i[f+2]>>6],s+=se[i[f+2]&63];return i.length%3===2?s=s.substring(0,s.length-1)+"=":i.length%3===1&&(s=s.substring(0,s.length-2)+"=="),s}function Ar(n,i){var s="";if(n&&(s=Rt.call(n)),n&&(s==="[object ArrayBuffer]"||n.buffer&&Rt.call(n.buffer)==="[object ArrayBuffer]")){var f,l=_e;n instanceof ArrayBuffer?(f=n,l+=$e):(f=n.buffer,s==="[object Int8Array]"?l+=pt:s==="[object Uint8Array]"?l+=mt:s==="[object Uint8ClampedArray]"?l+=yt:s==="[object Int16Array]"?l+=vt:s==="[object Uint16Array]"?l+=gt:s==="[object Int32Array]"?l+=bt:s==="[object Uint32Array]"?l+=wt:s==="[object Float32Array]"?l+=Et:s==="[object Float64Array]"?l+=St:i(new Error("Failed to get type for BinaryArray"))),i(l+We(f))}else if(s==="[object Blob]"){var c=new FileReader;c.onload=function(){var h=Rr+n.type+"~"+We(this.result);i(_e+Je+h)},c.readAsArrayBuffer(n)}else try{i(JSON.stringify(n))}catch(h){console.error("Couldn't convert value into a JSON string: ",n),i(null,h)}}function Or(n){if(n.substring(0,He)!==_e)return JSON.parse(n);var i=n.substring(_t),s=n.substring(He,_t),f;if(s===Je&&ht.test(i)){var l=i.match(ht);f=l[1],i=i.substring(l[0].length)}var c=At(i);switch(s){case $e:return c;case Je:return A([c],{type:f});case pt:return new Int8Array(c);case mt:return new Uint8Array(c);case yt:return new Uint8ClampedArray(c);case vt:return new Int16Array(c);case gt:return new Uint16Array(c);case bt:return new Int32Array(c);case wt:return new Uint32Array(c);case Et:return new Float32Array(c);case St:return new Float64Array(c);default:throw new Error("Unkown type: "+s)}}var qe={serialize:Ar,deserialize:Or,stringToBuffer:At,bufferToString:We};function Ot(n,i,s,f){n.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],s,f)}function Dr(n){var i=this,s={db:null};if(n)for(var f in n)s[f]=typeof n[f]!="string"?n[f].toString():n[f];var l=new y(function(c,h){try{s.db=openDatabase(s.name,String(s.version),s.description,s.size)}catch(b){return h(b)}s.db.transaction(function(b){Ot(b,s,function(){i._dbInfo=s,c()},function(g,w){h(w)})},h)});return s.serializer=qe,l}function ie(n,i,s,f,l,c){n.executeSql(s,f,l,function(h,b){b.code===b.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(g,w){w.rows.length?c(g,b):Ot(g,i,function(){g.executeSql(s,f,l,c)},c)},c):c(h,b)},c)}function Nr(n,i){var s=this;n=S(n);var f=new y(function(l,c){s.ready().then(function(){var h=s._dbInfo;h.db.transaction(function(b){ie(b,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[n],function(g,w){var E=w.rows.length?w.rows.item(0).value:null;E&&(E=h.serializer.deserialize(E)),l(E)},function(g,w){c(w)})})}).catch(c)});return O(f,i),f}function Tr(n,i){var s=this,f=new y(function(l,c){s.ready().then(function(){var h=s._dbInfo;h.db.transaction(function(b){ie(b,h,"SELECT * FROM "+h.storeName,[],function(g,w){for(var E=w.rows,D=E.length,x=0;x<D;x++){var B=E.item(x),F=B.value;if(F&&(F=h.serializer.deserialize(F)),F=n(F,B.key,x+1),F!==void 0){l(F);return}}l()},function(g,w){c(w)})})}).catch(c)});return O(f,i),f}function Dt(n,i,s,f){var l=this;n=S(n);var c=new y(function(h,b){l.ready().then(function(){i===void 0&&(i=null);var g=i,w=l._dbInfo;w.serializer.serialize(i,function(E,D){D?b(D):w.db.transaction(function(x){ie(x,w,"INSERT OR REPLACE INTO "+w.storeName+" (key, value) VALUES (?, ?)",[n,E],function(){h(g)},function(B,F){b(F)})},function(x){if(x.code===x.QUOTA_ERR){if(f>0){h(Dt.apply(l,[n,g,s,f-1]));return}b(x)}})})}).catch(b)});return O(c,s),c}function xr(n,i,s){return Dt.apply(this,[n,i,s,1])}function Ir(n,i){var s=this;n=S(n);var f=new y(function(l,c){s.ready().then(function(){var h=s._dbInfo;h.db.transaction(function(b){ie(b,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[n],function(){l()},function(g,w){c(w)})})}).catch(c)});return O(f,i),f}function Pr(n){var i=this,s=new y(function(f,l){i.ready().then(function(){var c=i._dbInfo;c.db.transaction(function(h){ie(h,c,"DELETE FROM "+c.storeName,[],function(){f()},function(b,g){l(g)})})}).catch(l)});return O(s,n),s}function Cr(n){var i=this,s=new y(function(f,l){i.ready().then(function(){var c=i._dbInfo;c.db.transaction(function(h){ie(h,c,"SELECT COUNT(key) as c FROM "+c.storeName,[],function(b,g){var w=g.rows.item(0).c;f(w)},function(b,g){l(g)})})}).catch(l)});return O(s,n),s}function Br(n,i){var s=this,f=new y(function(l,c){s.ready().then(function(){var h=s._dbInfo;h.db.transaction(function(b){ie(b,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[n+1],function(g,w){var E=w.rows.length?w.rows.item(0).key:null;l(E)},function(g,w){c(w)})})}).catch(c)});return O(f,i),f}function Lr(n){var i=this,s=new y(function(f,l){i.ready().then(function(){var c=i._dbInfo;c.db.transaction(function(h){ie(h,c,"SELECT key FROM "+c.storeName,[],function(b,g){for(var w=[],E=0;E<g.rows.length;E++)w.push(g.rows.item(E).key);f(w)},function(b,g){l(g)})})}).catch(l)});return O(s,n),s}function Fr(n){return new y(function(i,s){n.transaction(function(f){f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(l,c){for(var h=[],b=0;b<c.rows.length;b++)h.push(c.rows.item(b).name);i({db:n,storeNames:h})},function(l,c){s(c)})},function(f){s(f)})})}function Ur(n,i){i=N.apply(this,arguments);var s=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||s.name,n.storeName=n.storeName||s.storeName);var f=this,l;return n.name?l=new y(function(c){var h;n.name===s.name?h=f._dbInfo.db:h=openDatabase(n.name,"","",0),n.storeName?c({db:h,storeNames:[n.storeName]}):c(Fr(h))}).then(function(c){return new y(function(h,b){c.db.transaction(function(g){function w(B){return new y(function(F,j){g.executeSql("DROP TABLE IF EXISTS "+B,[],function(){F()},function(M,K){j(K)})})}for(var E=[],D=0,x=c.storeNames.length;D<x;D++)E.push(w(c.storeNames[D]));y.all(E).then(function(){h()}).catch(function(B){b(B)})},function(g){b(g)})})}):l=y.reject("Invalid arguments"),O(l,i),l}var kr={_driver:"webSQLStorage",_initStorage:Dr,_support:_r(),iterate:Tr,getItem:Nr,setItem:xr,removeItem:Ir,clear:Pr,length:Cr,key:Br,keys:Lr,dropInstance:Ur};function zr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(n){return!1}}function Nt(n,i){var s=n.name+"/";return n.storeName!==i.storeName&&(s+=n.storeName+"/"),s}function Mr(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch(i){return!0}}function jr(){return!Mr()||localStorage.length>0}function Hr(n){var i=this,s={};if(n)for(var f in n)s[f]=n[f];return s.keyPrefix=Nt(n,i._defaultConfig),jr()?(i._dbInfo=s,s.serializer=qe,y.resolve()):y.reject()}function $r(n){var i=this,s=i.ready().then(function(){for(var f=i._dbInfo.keyPrefix,l=localStorage.length-1;l>=0;l--){var c=localStorage.key(l);c.indexOf(f)===0&&localStorage.removeItem(c)}});return O(s,n),s}function Jr(n,i){var s=this;n=S(n);var f=s.ready().then(function(){var l=s._dbInfo,c=localStorage.getItem(l.keyPrefix+n);return c&&(c=l.serializer.deserialize(c)),c});return O(f,i),f}function Wr(n,i){var s=this,f=s.ready().then(function(){for(var l=s._dbInfo,c=l.keyPrefix,h=c.length,b=localStorage.length,g=1,w=0;w<b;w++){var E=localStorage.key(w);if(E.indexOf(c)===0){var D=localStorage.getItem(E);if(D&&(D=l.serializer.deserialize(D)),D=n(D,E.substring(h),g++),D!==void 0)return D}}});return O(f,i),f}function qr(n,i){var s=this,f=s.ready().then(function(){var l=s._dbInfo,c;try{c=localStorage.key(n)}catch(h){c=null}return c&&(c=c.substring(l.keyPrefix.length)),c});return O(f,i),f}function Vr(n){var i=this,s=i.ready().then(function(){for(var f=i._dbInfo,l=localStorage.length,c=[],h=0;h<l;h++){var b=localStorage.key(h);b.indexOf(f.keyPrefix)===0&&c.push(b.substring(f.keyPrefix.length))}return c});return O(s,n),s}function Kr(n){var i=this,s=i.keys().then(function(f){return f.length});return O(s,n),s}function Yr(n,i){var s=this;n=S(n);var f=s.ready().then(function(){var l=s._dbInfo;localStorage.removeItem(l.keyPrefix+n)});return O(f,i),f}function Gr(n,i,s){var f=this;n=S(n);var l=f.ready().then(function(){i===void 0&&(i=null);var c=i;return new y(function(h,b){var g=f._dbInfo;g.serializer.serialize(i,function(w,E){if(E)b(E);else try{localStorage.setItem(g.keyPrefix+n,w),h(c)}catch(D){(D.name==="QuotaExceededError"||D.name==="NS_ERROR_DOM_QUOTA_REACHED")&&b(D),b(D)}})})});return O(l,s),l}function Xr(n,i){if(i=N.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var s=this.config();n.name=n.name||s.name,n.storeName=n.storeName||s.storeName}var f=this,l;return n.name?l=new y(function(c){n.storeName?c(Nt(n,f._defaultConfig)):c(n.name+"/")}).then(function(c){for(var h=localStorage.length-1;h>=0;h--){var b=localStorage.key(h);b.indexOf(c)===0&&localStorage.removeItem(b)}}):l=y.reject("Invalid arguments"),O(l,i),l}var Qr={_driver:"localStorageWrapper",_initStorage:Hr,_support:zr(),iterate:Wr,getItem:Jr,setItem:Gr,removeItem:Yr,clear:$r,length:Kr,key:qr,keys:Vr,dropInstance:Xr},Zr=function(i,s){return i===s||typeof i=="number"&&typeof s=="number"&&isNaN(i)&&isNaN(s)},en=function(i,s){for(var f=i.length,l=0;l<f;){if(Zr(i[l],s))return!0;l++}return!1},Tt=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},me={},xt={},fe={INDEXEDDB:Sr,WEBSQL:kr,LOCALSTORAGE:Qr},tn=[fe.INDEXEDDB._driver,fe.WEBSQL._driver,fe.LOCALSTORAGE._driver],Re=["dropInstance"],Ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Re),rn={description:"",driver:tn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nn(n,i){n[i]=function(){var s=arguments;return n.ready().then(function(){return n[i].apply(n,s)})}}function Ke(){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var s in i)i.hasOwnProperty(s)&&(Tt(i[s])?arguments[0][s]=i[s].slice():arguments[0][s]=i[s])}return arguments[0]}var on=function(){function n(i){d(this,n);for(var s in fe)if(fe.hasOwnProperty(s)){var f=fe[s],l=f._driver;this[s]=l,me[l]||this.defineDriver(f)}this._defaultConfig=Ke({},rn),this._config=Ke({},this._defaultConfig,i),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return n.prototype.config=function(s){if((typeof s>"u"?"undefined":u(s))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var f in s){if(f==="storeName"&&(s[f]=s[f].replace(/\W/g,"_")),f==="version"&&typeof s[f]!="number")return new Error("Database version must be a number.");this._config[f]=s[f]}return"driver"in s&&s.driver?this.setDriver(this._config.driver):!0}else return typeof s=="string"?this._config[s]:this._config},n.prototype.defineDriver=function(s,f,l){var c=new y(function(h,b){try{var g=s._driver,w=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!s._driver){b(w);return}for(var E=Ve.concat("_initStorage"),D=0,x=E.length;D<x;D++){var B=E[D],F=!en(Re,B);if((F||s[B])&&typeof s[B]!="function"){b(w);return}}var j=function(){for(var ye=function(un){return function(){var cn=new Error("Method "+un+" is not implemented by the current driver"),It=y.reject(cn);return O(It,arguments[arguments.length-1]),It}},Ye=0,an=Re.length;Ye<an;Ye++){var Ge=Re[Ye];s[Ge]||(s[Ge]=ye(Ge))}};j();var M=function(ye){me[g]&&console.info("Redefining LocalForage driver: "+g),me[g]=s,xt[g]=ye,h()};"_support"in s?s._support&&typeof s._support=="function"?s._support().then(M,b):M(!!s._support):M(!0)}catch(K){b(K)}});return T(c,f,l),c},n.prototype.driver=function(){return this._driver||null},n.prototype.getDriver=function(s,f,l){var c=me[s]?y.resolve(me[s]):y.reject(new Error("Driver not found."));return T(c,f,l),c},n.prototype.getSerializer=function(s){var f=y.resolve(qe);return T(f,s),f},n.prototype.ready=function(s){var f=this,l=f._driverSet.then(function(){return f._ready===null&&(f._ready=f._initDriver()),f._ready});return T(l,s,s),l},n.prototype.setDriver=function(s,f,l){var c=this;Tt(s)||(s=[s]);var h=this._getSupportedDrivers(s);function b(){c._config.driver=c.driver()}function g(D){return c._extend(D),b(),c._ready=c._initStorage(c._config),c._ready}function w(D){return function(){var x=0;function B(){for(;x<D.length;){var F=D[x];return x++,c._dbInfo=null,c._ready=null,c.getDriver(F).then(g).catch(B)}b();var j=new Error("No available storage method found.");return c._driverSet=y.reject(j),c._driverSet}return B()}}var E=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=E.then(function(){var D=h[0];return c._dbInfo=null,c._ready=null,c.getDriver(D).then(function(x){c._driver=x._driver,b(),c._wrapLibraryMethodsWithReady(),c._initDriver=w(h)})}).catch(function(){b();var D=new Error("No available storage method found.");return c._driverSet=y.reject(D),c._driverSet}),T(this._driverSet,f,l),this._driverSet},n.prototype.supports=function(s){return!!xt[s]},n.prototype._extend=function(s){Ke(this,s)},n.prototype._getSupportedDrivers=function(s){for(var f=[],l=0,c=s.length;l<c;l++){var h=s[l];this.supports(h)&&f.push(h)}return f},n.prototype._wrapLibraryMethodsWithReady=function(){for(var s=0,f=Ve.length;s<f;s++)nn(this,Ve[s])},n.prototype.createInstance=function(s){return new n(s)},n}(),sn=new on;o.exports=sn},{3:3}]},{},[4])(4)})})(cr);var No=cr.exports;const Ce=Do(No),Ie={SecureStorage:"ionicSecureStorage",IndexedDB:Ce.INDEXEDDB,LocalStorage:Ce.LOCALSTORAGE},Ht={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Ie.SecureStorage,Ie.IndexedDB,Ie.LocalStorage]};class le{constructor(e=Ht){this._db=null,this._secureStorageDriver=null;const r=Object.assign({},Ht,e||{});this._config=r}async create(){const e=Ce.createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===Ie.SecureStorage&&(this._secureStorageDriver=e),Ce.defineDriver(e)}get driver(){var e;return((e=this._db)===null||e===void 0?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,r){return this.assertDb().setItem(e,r)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var r;if(this._secureStorageDriver)(r=this._secureStorageDriver)===null||r===void 0||r.setEncryptionKey(e);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}}const To=t=>{try{return JSON.parse(t),!0}catch(e){return!1}};class X{constructor(e,r={}){re(this,"bucketTemplate");re(this,"bucketName");re(this,"bucketData",null);re(this,"ionicStorage",null);this.bucketTemplate=r,this.bucketName=e}initBucketData(){const e=this;return new Promise(r=>{X.exists(e.bucketName).then(o=>{var a;o?(a=e.ionicStorage)==null||a.get(e.bucketName).then(u=>{const d=u;if(d){if(!To(d)){e.reset().then(()=>{r()});return}e.bucketData=JSON.parse(d),r()}else e.reset().then(()=>{r()})}):e.reset().then(()=>{r()})})})}set data(e){this.bucketData=e}get data(){return this.bucketData==null?{}:this.bucketData}async save(){const e=this;return new Promise(r=>{X.exists(e.bucketName).then(o=>{o?a():e.reset().then(()=>{a()});function a(){var d;const u=JSON.stringify(e.data);(d=e.ionicStorage)==null||d.set(e.bucketName,u).then(()=>{r(e)})}})})}async reset(){const e=this;return new Promise(r=>{var a;const o=JSON.stringify(e.bucketTemplate);(a=e.ionicStorage)==null||a.set(e.bucketName,o).then(()=>{e.bucketData=JSON.parse(JSON.stringify(e.bucketTemplate)),r(e)})})}async delete(){const e=this;return new Promise(r=>{var o;(o=e.ionicStorage)==null||o.remove(e.bucketName).then(()=>{r()})})}getSize(){const e=JSON.stringify(this.data);return new Blob([e]).size*2}static async exists(e){return new Promise((r,o)=>{let a=!1;new le().create().then(d=>{d.keys().then(m=>{a=m.includes(e),r(a)})})})}static async getBucketsNames(){return new Promise((e,r)=>{new le().create().then(a=>{a.keys().then(u=>{e(u)})})})}static getOcupiedSpace(){const e=sizeFormatter();return new Promise(r=>{let o=[];new le().create().then(u=>{X.getBucketsNames().then(d=>{d.forEach(R=>{u.get(R).then(v=>{o.push({name:R,size:new Blob([v]).size*2,sizeReadable:e(new Blob([v]).size*2)})})});const m=setInterval(()=>{if(o.length==d.length){clearInterval(m);const R=o.reduce((v,A)=>v+A.size,0);r({buckets:o,size:R,sizeReadable:e(R)})}},100)})})})}static async load(e,r={}){return new Promise(o=>{const a=new X(e,r);new le().create().then(d=>{a.ionicStorage=d,a.initBucketData().then(()=>{o(a)})})})}static clearAllBuckets(){return new Promise(e=>{const r=new le;r.create().then(()=>{r.clear().then(()=>{e()})})})}static async clearBucket(e){return new Promise(r=>{const o=new le;o.create().then(()=>{o.remove(e).then(()=>{r()})})})}static placeholder(){return new X("",{})}}const J=class J{constructor(e){re(this,"sessionUserData");this.sessionUserData=e}name(){return this.sessionUserData.name}username(){return this.sessionUserData.username}email(){return this.sessionUserData.email}roles(){return this.sessionUserData.roles}permissions(){return this.sessionUserData.permissions}token(){return this.sessionUserData.token}id(){return this.sessionUserData.id}static async login(e,r){if(await J.isLogged())throw new Error("Already logged");try{const o=await Le.post("/login",{username:e,password:r}),a={id:o.user.id,username:o.user.username,name:o.user.name,email:o.user.email,roles:o.user.roles,permissions:o.user.permissions,token:o.token};J.session=new J(a),await X.clearBucket("session"),await X.load("session",{token:o.token,userData:o.user})}catch(o){throw o.code==401?new Error("Invalid credentials"):new Error(o.response.message)}}async logout(){await Le.post("/logout",{}),await X.clearBucket("session"),J.session=null}static async getCurrentSession(){return await J.init(),J.session}static async init(){if(this.isInitialized)return;const e=await X.load("session",{token:null,userData:null});if(e.data.token!=null){const r={id:e.data.userData.id,username:e.data.userData.username,email:e.data.userData.email,roles:e.data.userData.roles,permissions:e.data.userData.permissions,token:e.data.token};J.session=new J(r)}else J.session=null;this.isInitialized=!0}static async isLogged(){return await J.init(),J.session!=null}};re(J,"session",null),re(J,"isInitialized",!1);let Be=J;const ue=class ue{static get(e,r={}){return new Promise(async(o,a)=>{be.get(this.variables.rootUrl+e,{params:r,headers:{Authorization:await ue.getAuthHeader()}}).then(u=>{o(u.data)}).catch(u=>{a({code:u.response.status,response:u.response.data})})})}static post(e,r={}){return new Promise(async(o,a)=>{be.post(this.variables.rootUrl+e,r,{headers:{Authorization:await ue.getAuthHeader()}}).then(u=>{o(u.data)}).catch(u=>{console.log(u),a({code:u.response.status,response:u.response.data})})})}static patch(e,r={}){return new Promise(async(o,a)=>{be.patch(this.variables.rootUrl+e,r,{headers:{Authorization:await ue.getAuthHeader()}}).then(u=>{o(u.data)}).catch(u=>{a({code:u.response.status,response:u.response.data})})})}static put(e,r={}){return new Promise(async(o,a)=>{be.put(this.variables.rootUrl+e,r,{headers:{Authorization:await ue.getAuthHeader()}}).then(u=>{o(u.data)}).catch(u=>{a({code:u.response.status,response:u.response.data})})})}static delete(e,r={}){return new Promise(async(o,a)=>{be.delete(this.variables.rootUrl+e,{params:r,headers:{Authorization:await ue.getAuthHeader()}}).then(u=>{o(u.data)}).catch(u=>{a({code:u.response.status,response:u.response.data})})})}static getStorageInBase64(e,r={}){return new Promise((o,a)=>{fetch(this.variables.rootStorageUrl+e).then(u=>{u.blob().then(d=>{const m=new FileReader;m.readAsDataURL(d),m.onloadend=function(){const R=m.result;o(R)}})})})}static async getAuthHeader(){return new Promise(async(e,r)=>{var o;await Be.isLogged()?e("Bearer "+((o=await Be.getCurrentSession())==null?void 0:o.token())):e(void 0)})}};re(ue,"variables",{rootUrl:"http://localhost:8000/api",rootStorageUrl:"http://localhost:8000/storage"});let Le=ue;export{Le as R,Be as S,Do as a,Ae as c,Po as g};
