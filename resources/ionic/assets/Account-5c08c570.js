import{d as k,r as l,B as C,c as r,w as a,u as e,R as A,o as u,a as t,b as B,h as L,g as c,i as N,j as _,I as S,l as T,m as g,V,s as m,v as i,N as I,F as w,W as x,k as b,y as P,S as R}from"./index-97d68def.js";const D=i("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1),F=k({__name:"Account",setup(j){const o=l(null),n=l(!0),p=C(),h=l(null),d=()=>{p.replace("/login")},v=async()=>{o.value=await A.get("/account/me"),n.value=!1},y=async()=>{R.getCurrentSession().then(async s=>{s||d(),s.logout().then(()=>{d()}).catch(f=>{console.error(f)})})};return v(),(s,f)=>(u(),r(e(P),{ref_key:"page",ref:h},{default:a(()=>[t(e(S),null,{default:a(()=>[t(e(B),null,{default:a(()=>[t(e(L),null,{default:a(()=>[c("Mi cuenta")]),_:1}),n.value?(u(),r(e(N),{key:0,type:"indeterminate"})):_("",!0)]),_:1})]),_:1}),t(e(b),null,{default:a(()=>[n.value?_("",!0):(u(),r(e(T),{key:0},{default:a(()=>[t(e(g),null,{default:a(()=>[t(e(V),{slot:"start"},{default:a(()=>[D]),_:1}),t(e(m),null,{default:a(()=>[i("h2",null,I(o.value.name),1),i("p",null,I(o.value.email),1)]),_:1})]),_:1}),t(e(g),{onClick:y},{default:a(()=>[c(", IonAvatar "),t(e(w),{color:"danger",icon:e(x),slot:"start"},null,8,["icon"]),t(e(m),{color:"danger"},{default:a(()=>[c("Terminar sesiÃ³n")]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1},512))}});export{F as default};
